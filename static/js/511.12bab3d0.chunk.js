"use strict";(self.webpackChunkyour_phonebook=self.webpackChunkyour_phonebook||[]).push([[511],{4511:function(e,n,a){a.r(n),a.d(n,{default:function(){return T}});var t=a(2791),s=a(3085),r=a(9434),c=a(9439),i=a(6052),o=a(1095),d=a(5744),l=a(7309),m=a(6351),u=a(184),h=function(){var e=(0,r.I0)(),n=o.Z.useForm(),a=(0,c.Z)(n,1)[0],t=(0,r.v9)(m.Wk),h=t.status,p=t.item,x=function(e){var n=e.message,a=e.type,t=e.description;s.Z[a]({message:n,description:t})};return(0,u.jsxs)(o.Z,{form:a,name:"add-contact",style:{width:400},onFinish:function(n){var t=n.name,s=n.number,r=p.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}));a.resetFields(),r?x({type:"warning",message:"".concat(t," is already in contacts.")}):(e((0,i.Df)({name:t,number:s})),x({type:"success",message:"The contact has been successfully added"}))},children:[(0,u.jsx)(o.Z.Item,{name:"name",rules:[{pattern:new RegExp(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/),message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"},{required:!0,message:"Name number is mandatory field"}],children:(0,u.jsx)(d.Z,{placeholder:"Contact name"})}),(0,u.jsx)(o.Z.Item,{name:"number",rules:[{required:!0,message:"Phone number is mandatory field"},{pattern:new RegExp(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/),message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}],children:(0,u.jsx)(d.Z,{placeholder:"Phone number"})}),(0,u.jsx)(o.Z.Item,{children:(0,u.jsx)(l.Z,{type:"primary",htmlType:"submit",block:!0,disabled:"loading"===h,children:"Add contact"})})]})},p=a(1538),x=a(2603),f=function(){var e=(0,r.I0)(),n=(0,r.v9)(m.K7);return(0,u.jsx)(x.Z,{placeholder:"Find contacts",style:{width:400},type:"text",value:n,onChange:function(n){e((0,p.h)(n.target.value))}})},j=a(4025),Z=a(6286),g=a(3020),y=a(5546),_=a(828),C=a(9126),b="ContactList_wrap__g7m5J",v="ContactList_itemContact__v7UVz",w="ContactList_list__S-drv",N="ContactList_item__-Qv6N",k="ContactList_popover__Z+1Tk",F="ContactList_notContact__bXNaE",I=a(1413),L=a(7138),P=function(e){var n=e.open,a=e.onOk,h=e.onCancel,p=e.dataModal,x=o.Z.useForm(),f=(0,c.Z)(x,1)[0],j=(0,r.v9)(m.Wk),Z=j.status,g=j.item,y=(0,r.I0)();(0,t.useEffect)((function(){f.setFieldsValue(p)}),[p,f]);var _=function(e){var n=e.message,a=e.type,t=e.description;s.Z[a]({message:n,description:t})};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(L.Z,{forceRender:!0,footer:null,title:"Edit your contact",open:n,onOk:a,onCancel:h,children:(0,u.jsxs)(o.Z,{form:f,name:"edit-contact",style:{width:450},onFinish:function(e){var n=e.name,t=g.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}));f.resetFields(),t?_({type:"warning",message:"".concat(n," is already in contacts.")}):(y((0,i.BZ)((0,I.Z)((0,I.Z)({},p),e))),a(),_({type:"success",message:"The contact has been successfully added"}))},children:[(0,u.jsx)(o.Z.Item,{name:"name",rules:[{pattern:new RegExp(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/),message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"},{required:!0,message:"Name number is mandatory field"}],children:(0,u.jsx)(d.Z,{placeholder:"Contact name"})}),(0,u.jsx)(o.Z.Item,{name:"number",rules:[{required:!0,message:"Phone number is mandatory field"},{pattern:new RegExp(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/),message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}],children:(0,u.jsx)(d.Z,{placeholder:"Phone number"})}),(0,u.jsx)(o.Z.Item,{children:(0,u.jsx)(l.Z,{type:"primary",htmlType:"submit",block:!0,disabled:"loading"===Z,children:"Edit contact"})})]})})})},A=function(){var e=(0,t.useState)(!1),n=(0,c.Z)(e,2),a=n[0],s=n[1],o=(0,t.useState)(null),d=(0,c.Z)(o,2),l=d[0],h=d[1],p=(0,r.I0)(),x=(0,r.v9)(m.Fl),f=(0,r.v9)(m.K7),j=function(e){return(0,u.jsxs)("ul",{className:w,children:[(0,u.jsx)("li",{className:k,children:(0,u.jsx)(_.Wx6,{onClick:function(){return function(e){s(!0),h(e)}(e)},children:"update"})}),(0,u.jsx)("li",{className:N,children:(0,u.jsx)("span",{children:"|"})}),(0,u.jsx)("li",{className:"".concat(N," ").concat(k),children:(0,u.jsx)(_._51,{onClick:function(){return p((0,i._f)(e.id))},children:"delete"})})]})};return(0,u.jsxs)(Z.ZP,{className:b,children:[x.filter((function(e){return e.name.toLowerCase().includes(f.toLowerCase())})).map((function(e){var n=e.id,a=e.name,t=e.number;return(0,u.jsxs)(Z.ZP.Item,{children:[(0,u.jsx)(y.ZP,{name:a,size:"40"}),(0,u.jsx)(Z.ZP.Item.Meta,{title:(0,u.jsx)("a",{href:"https://ant.design",children:"".concat(a)}),description:"".concat(t),className:v}),(0,u.jsx)(g.Z,{className:k,placement:"left",content:j({id:n,name:a,number:t}),trigger:"click",children:(0,u.jsx)(C.evw,{})})]},n)})),(0,u.jsx)("div",{className:F,children:!x.length&&(0,u.jsx)("span",{children:"No contacts"})}),(0,u.jsx)(P,{open:a,onOk:function(){s(!1),h(null)},onCancel:function(){s(!1),h(null)},dataModal:l})]})},z="Contacts_wrap__xPKRM",E="Contacts_contacts__fxVP2",M="Contacts_title__N+GvO",R="Contacts_text__y3HVS",T=function(){var e=(0,r.v9)(m.Wk),n=e.status,a=e.error,c=(0,r.v9)(m.XZ),o=(0,r.I0)();return(0,t.useEffect)((function(){c&&o((0,i.yF)())}),[o,c]),a&&s.Z.error({message:a}),(0,u.jsxs)("div",{className:z,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:M,children:"Create a new contact"}),(0,u.jsx)(h,{})]}),(0,u.jsxs)("div",{className:E,children:[(0,u.jsx)("p",{className:R,children:" Find contacts by name"}),(0,u.jsx)(f,{}),"loading"===n&&(0,u.jsx)(j.Z,{}),(0,u.jsx)(A,{})]})]})}}}]);
//# sourceMappingURL=511.12bab3d0.chunk.js.map